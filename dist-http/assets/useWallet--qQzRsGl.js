var i=(s,a,t)=>new Promise((l,n)=>{var y=e=>{try{m(t.next(e))}catch(r){n(r)}},d=e=>{try{m(t.throw(e))}catch(r){n(r)}},m=e=>e.done?l(e.value):Promise.resolve(e.value).then(y,d);m((t=t.apply(s,a)).next())});import{r as v}from"./index-D09qPjuF.js";import{W as p}from"./wallet-DM2W-3OY.js";function w(){const s=v(null),a=v(""),t=v(""),l=v(""),n=v("");return{wallet:s,address:a,privateKey:l,mnemonic:n,keystore:t,createAndEncryptWallet:e=>i(this,null,function*(){const r=p.createRandom();return s.value=r,a.value=r.address,l.value=r.privateKey,n.value=r.mnemonic.phrase,t.value=yield r.encrypt(e),{address:a.value,privateKey:l.value,mnemonic:n.value,keystore:t.value}}),importFromKeystore:(e,r)=>i(this,null,function*(){var u,o;try{const c=yield p.fromEncryptedJson(e,r);return s.value=c,a.value=c.address,l.value=c.privateKey,n.value=(o=(u=c.mnemonic)==null?void 0:u.phrase)!=null?o:"",t.value=e,!0}catch(c){return!1}}),importFromPrivateKey:(e,r)=>i(this,null,function*(){try{const u=e.trim(),o=new p(u);return s.value=o,a.value=o.address,l.value=o.privateKey,n.value="",t.value=yield o.encrypt(r),{address:a.value,privateKey:l.value,keystore:t.value}}catch(u){return console.error("❌ 私钥导入失败:",u),null}})}}export{w as u};
