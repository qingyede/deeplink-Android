import{r as N,k as M,aB as $,ae as se,d as V,a2 as de,Y as De,n as ue,b7 as qe,b8 as Ge,M as F,aj as ae,aU as D,l as f,a4 as Ue,ai as fe,b9 as he,ba as Se,a6 as ke,a5 as Xe,T as Ye,I as H,aa as j,a9 as W,H as q,ab as Je,J as Qe,N as ve,K as Ze,ax as et,bb as tt,x as me,af as G,ag as oe,P as nt,ah as ge,bc as ot,aV as it,aX as lt,ak as rt}from"./index-D09qPjuF.js";import{c as st,b as ie,i as ce,d as at}from"./Follower-DluLCQpw.js";import{a as dt,h as pe}from"./create-D3Vn69pI.js";import{b as ut}from"./get-D38_uRRN.js";import{_ as ct}from"./Empty-ChLFn9-3.js";function le(e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?t[0]:n=>{e.forEach(i=>{i&&i(n)})}}function be(e){return e&-e}class Te{constructor(t,n){this.l=t,this.min=n;const i=new Array(t+1);for(let s=0;s<t+1;++s)i[s]=0;this.ft=i}add(t,n){if(n===0)return;const{l:i,ft:s}=this;for(t+=1;t<=i;)s[t]+=n,t+=be(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:n,min:i,l:s}=this;if(t>s)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let a=t*i;for(;t>0;)a+=n[t],t-=be(t);return a}getBound(t){let n=0,i=this.l;for(;i>n;){const s=Math.floor((n+i)/2),a=this.sum(s);if(a>t){i=s;continue}else if(a<t){if(n===s)return this.sum(n+1)<=t?n+1:s;n=s}else return s}return n}}let Y;function ft(){return typeof document=="undefined"?!1:(Y===void 0&&("matchMedia"in window?Y=window.matchMedia("(pointer:coarse)").matches:Y=!1),Y)}let re;function ye(){return typeof document=="undefined"?1:(re===void 0&&(re="chrome"in window?window.devicePixelRatio:1),re)}const ze="VVirtualListXScroll";function ht({columnsRef:e,renderColRef:t,renderItemWithColsRef:n}){const i=N(0),s=N(0),a=M(()=>{const v=e.value;if(v.length===0)return null;const g=new Te(v.length,0);return v.forEach((I,C)=>{g.add(C,I.width)}),g}),u=$(()=>{const v=a.value;return v!==null?Math.max(v.getBound(s.value)-1,0):0}),h=v=>{const g=a.value;return g!==null?g.sum(v):0},c=$(()=>{const v=a.value;return v!==null?Math.min(v.getBound(s.value+i.value)+1,e.value.length-1):0});return se(ze,{startIndexRef:u,endIndexRef:c,columnsRef:e,renderColRef:t,renderItemWithColsRef:n,getLeft:h}),{listWidthRef:i,scrollLeftRef:s}}const xe=V({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:e,endIndexRef:t,columnsRef:n,getLeft:i,renderColRef:s,renderItemWithColsRef:a}=de(ze);return{startIndex:e,endIndex:t,columns:n,renderCol:s,renderItemWithCols:a,getLeft:i}},render(){const{startIndex:e,endIndex:t,columns:n,renderCol:i,renderItemWithCols:s,getLeft:a,item:u}=this;if(s!=null)return s({itemIndex:this.index,startColIndex:e,endColIndex:t,allColumns:n,item:u,getLeft:a});if(i!=null){const h=[];for(let c=e;c<=t;++c){const v=n[c];h.push(i({column:v,left:a(c),item:u}))}return h}return null}}),vt=ie(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[ie("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[ie("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),mt=V({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=De();vt.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:st,ssr:t}),ue(()=>{const{defaultScrollIndex:l,defaultScrollKey:d}=e;l!=null?_({index:l}):d!=null&&_({key:d})});let n=!1,i=!1;qe(()=>{if(n=!1,!i){i=!0;return}_({top:R.value,left:u.value})}),Ge(()=>{n=!0,i||(i=!0)});const s=$(()=>{if(e.renderCol==null&&e.renderItemWithCols==null||e.columns.length===0)return;let l=0;return e.columns.forEach(d=>{l+=d.width}),l}),a=M(()=>{const l=new Map,{keyField:d}=e;return e.items.forEach((m,k)=>{l.set(m[d],k)}),l}),{scrollLeftRef:u,listWidthRef:h}=ht({columnsRef:F(e,"columns"),renderColRef:F(e,"renderCol"),renderItemWithColsRef:F(e,"renderItemWithCols")}),c=N(null),v=N(void 0),g=new Map,I=M(()=>{const{items:l,itemSize:d,keyField:m}=e,k=new Te(l.length,d);return l.forEach((T,z)=>{const x=T[m],w=g.get(x);w!==void 0&&k.add(z,w)}),k}),C=N(0),R=N(0),p=$(()=>Math.max(I.value.getBound(R.value-ae(e.paddingTop))-1,0)),B=M(()=>{const{value:l}=v;if(l===void 0)return[];const{items:d,itemSize:m}=e,k=p.value,T=Math.min(k+Math.ceil(l/m+1),d.length-1),z=[];for(let x=k;x<=T;++x)z.push(d[x]);return z}),_=(l,d)=>{if(typeof l=="number"){E(l,d,"auto");return}const{left:m,top:k,index:T,key:z,position:x,behavior:w,debounce:P=!0}=l;if(m!==void 0||k!==void 0)E(m,k,w);else if(T!==void 0)O(T,w,P);else if(z!==void 0){const o=a.value.get(z);o!==void 0&&O(o,w,P)}else x==="bottom"?E(0,Number.MAX_SAFE_INTEGER,w):x==="top"&&E(0,0,w)};let y,S=null;function O(l,d,m){const{value:k}=I,T=k.sum(l)+ae(e.paddingTop);if(!m)c.value.scrollTo({left:0,top:T,behavior:d});else{y=l,S!==null&&window.clearTimeout(S),S=window.setTimeout(()=>{y=void 0,S=null},16);const{scrollTop:z,offsetHeight:x}=c.value;if(T>z){const w=k.get(l);T+w<=z+x||c.value.scrollTo({left:0,top:T+w-x,behavior:d})}else c.value.scrollTo({left:0,top:T,behavior:d})}}function E(l,d,m){c.value.scrollTo({left:l,top:d,behavior:m})}function Q(l,d){var m,k,T;if(n||e.ignoreItemResize||X(d.target))return;const{value:z}=I,x=a.value.get(l),w=z.get(x),P=(T=(k=(m=d.borderBoxSize)===null||m===void 0?void 0:m[0])===null||k===void 0?void 0:k.blockSize)!==null&&T!==void 0?T:d.contentRect.height;if(P===w)return;P-e.itemSize===0?g.delete(l):g.set(l,P-e.itemSize);const r=P-w;if(r===0)return;z.add(x,r);const b=c.value;if(b!=null){if(y===void 0){const L=z.sum(x);b.scrollTop>L&&b.scrollBy(0,r)}else if(x<y)b.scrollBy(0,r);else if(x===y){const L=z.sum(x);P+L>b.scrollTop+b.offsetHeight&&b.scrollBy(0,r)}K()}C.value++}const U=!ft();let A=!1;function Z(l){var d;(d=e.onScroll)===null||d===void 0||d.call(e,l),(!U||!A)&&K()}function ee(l){var d;if((d=e.onWheel)===null||d===void 0||d.call(e,l),U){const m=c.value;if(m!=null){if(l.deltaX===0&&(m.scrollTop===0&&l.deltaY<=0||m.scrollTop+m.offsetHeight>=m.scrollHeight&&l.deltaY>=0))return;l.preventDefault(),m.scrollTop+=l.deltaY/ye(),m.scrollLeft+=l.deltaX/ye(),K(),A=!0,ut(()=>{A=!1})}}}function te(l){if(n||X(l.target))return;if(e.renderCol==null&&e.renderItemWithCols==null){if(l.contentRect.height===v.value)return}else if(l.contentRect.height===v.value&&l.contentRect.width===h.value)return;v.value=l.contentRect.height,h.value=l.contentRect.width;const{onResize:d}=e;d!==void 0&&d(l)}function K(){const{value:l}=c;l!=null&&(R.value=l.scrollTop,u.value=l.scrollLeft)}function X(l){let d=l;for(;d!==null;){if(d.style.display==="none")return!0;d=d.parentElement}return!1}return{listHeight:v,listStyle:{overflow:"auto"},keyToIndex:a,itemsStyle:M(()=>{const{itemResizable:l}=e,d=D(I.value.sum());return C.value,[e.itemsStyle,{boxSizing:"content-box",width:D(s.value),height:l?"":d,minHeight:l?d:"",paddingTop:D(e.paddingTop),paddingBottom:D(e.paddingBottom)}]}),visibleItemsStyle:M(()=>(C.value,{transform:`translateY(${D(I.value.sum(p.value))})`})),viewportItems:B,listElRef:c,itemsElRef:N(null),scrollTo:_,handleListResize:te,handleListScroll:Z,handleListWheel:ee,handleItemResize:Q}},render(){const{itemResizable:e,keyField:t,keyToIndex:n,visibleItemsTag:i}=this;return f(fe,{onResize:this.handleListResize},{default:()=>{var s,a;return f("div",Ue(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?f("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[f(i,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:u,renderItemWithCols:h}=this;return this.viewportItems.map(c=>{const v=c[t],g=n.get(v),I=u!=null?f(xe,{index:g,item:c}):void 0,C=h!=null?f(xe,{index:g,item:c}):void 0,R=this.$slots.default({item:c,renderedCols:I,renderedItemWithCols:C,index:g})[0];return e?f(fe,{key:v,onResize:p=>this.handleItemResize(v,p)},{default:()=>R}):(R.key=v,R)})}})]):(a=(s=this.$slots).empty)===null||a===void 0?void 0:a.call(s)])}})}});function gt(e,t){t&&(ue(()=>{const{value:n}=e;n&&he.registerHandler(n,t)}),Se(()=>{const{value:n}=e;n&&he.unregisterHandler(n)}))}const pt=V({name:"Checkmark",render(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},f("g",{fill:"none"},f("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),bt=V({props:{onFocus:Function,onBlur:Function},setup(e){return()=>f("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function yt(e,t){return f(Ye,{name:"fade-in-scale-up-transition"},{default:()=>e?f(Xe,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>f(pt)}):null})}const we=V({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:n,multipleRef:i,valueSetRef:s,renderLabelRef:a,renderOptionRef:u,labelFieldRef:h,valueFieldRef:c,showCheckmarkRef:v,nodePropsRef:g,handleOptionClick:I,handleOptionMouseEnter:C}=de(ce),R=$(()=>{const{value:y}=n;return y?e.tmNode.key===y.key:!1});function p(y){const{tmNode:S}=e;S.disabled||I(y,S)}function B(y){const{tmNode:S}=e;S.disabled||C(y,S)}function _(y){const{tmNode:S}=e,{value:O}=R;S.disabled||O||C(y,S)}return{multiple:i,isGrouped:$(()=>{const{tmNode:y}=e,{parent:S}=y;return S&&S.rawNode.type==="group"}),showCheckmark:v,nodeProps:g,isPending:R,isSelected:$(()=>{const{value:y}=t,{value:S}=i;if(y===null)return!1;const O=e.tmNode.rawNode[c.value];if(S){const{value:E}=s;return E.has(O)}else return y===O}),labelField:h,renderLabel:a,renderOption:u,handleMouseMove:_,handleMouseEnter:B,handleClick:p}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:n,isPending:i,isGrouped:s,showCheckmark:a,nodeProps:u,renderOption:h,renderLabel:c,handleClick:v,handleMouseEnter:g,handleMouseMove:I}=this,C=yt(n,e),R=c?[c(t,n),a&&C]:[ke(t[this.labelField],t,n),a&&C],p=u==null?void 0:u(t),B=f("div",Object.assign({},p,{class:[`${e}-base-select-option`,t.class,p==null?void 0:p.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:n,[`${e}-base-select-option--grouped`]:s,[`${e}-base-select-option--pending`]:i,[`${e}-base-select-option--show-checkmark`]:a}],style:[(p==null?void 0:p.style)||"",t.style||""],onClick:le([v,p==null?void 0:p.onClick]),onMouseenter:le([g,p==null?void 0:p.onMouseenter]),onMousemove:le([I,p==null?void 0:p.onMousemove])}),f("div",{class:`${e}-base-select-option__content`},R));return t.render?t.render({node:B,option:t,selected:n}):h?h({node:B,option:t,selected:n}):B}}),Re=V({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:n,nodePropsRef:i}=de(ce);return{labelField:n,nodeProps:i,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:n,nodeProps:i,tmNode:{rawNode:s}}=this,a=i==null?void 0:i(s),u=t?t(s,!1):ke(s[this.labelField],s,!1),h=f("div",Object.assign({},a,{class:[`${e}-base-select-group-header`,a==null?void 0:a.class]}),u);return s.render?s.render({node:h,option:s}):n?n({node:h,option:s,selected:!1}):h}}),xt=H("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[H("scrollbar",`
 max-height: var(--n-height);
 `),H("virtual-list",`
 max-height: var(--n-height);
 `),H("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[j("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),H("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),H("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),j("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),j("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),j("header",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),j("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),H("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),H("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[W("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),q("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),q("&:active",`
 color: var(--n-option-text-color-pressed);
 `),W("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),W("pending",[q("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),W("selected",`
 color: var(--n-option-text-color-active);
 `,[q("&::before",`
 background-color: var(--n-option-color-active);
 `),W("pending",[q("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),W("disabled",`
 cursor: not-allowed;
 `,[Je("selected",`
 color: var(--n-option-text-color-disabled);
 `),W("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),j("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Qe({enterScale:"0.5"})])])]),zt=V({name:"InternalSelectMenu",props:Object.assign(Object.assign({},ve.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=Ze(e),i=et("InternalSelectMenu",n,t),s=ve("InternalSelectMenu","-internal-select-menu",xt,tt,e,F(e,"clsPrefix")),a=N(null),u=N(null),h=N(null),c=M(()=>e.treeMate.getFlattenedNodes()),v=M(()=>dt(c.value)),g=N(null);function I(){const{treeMate:o}=e;let r=null;const{value:b}=e;b===null?r=o.getFirstAvailableNode():(e.multiple?r=o.getNode((b||[])[(b||[]).length-1]):r=o.getNode(b),(!r||r.disabled)&&(r=o.getFirstAvailableNode())),d(r||null)}function C(){const{value:o}=g;o&&!e.treeMate.getNode(o.key)&&(g.value=null)}let R;me(()=>e.show,o=>{o?R=me(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?I():C(),rt(m)):C()},{immediate:!0}):R==null||R()},{immediate:!0}),Se(()=>{R==null||R()});const p=M(()=>ae(s.value.self[G("optionHeight",e.size)])),B=M(()=>oe(s.value.self[G("padding",e.size)])),_=M(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),y=M(()=>{const o=c.value;return o&&o.length===0});function S(o){const{onToggle:r}=e;r&&r(o)}function O(o){const{onScroll:r}=e;r&&r(o)}function E(o){var r;(r=h.value)===null||r===void 0||r.sync(),O(o)}function Q(){var o;(o=h.value)===null||o===void 0||o.sync()}function U(){const{value:o}=g;return o||null}function A(o,r){r.disabled||d(r,!1)}function Z(o,r){r.disabled||S(r)}function ee(o){var r;pe(o,"action")||(r=e.onKeyup)===null||r===void 0||r.call(e,o)}function te(o){var r;pe(o,"action")||(r=e.onKeydown)===null||r===void 0||r.call(e,o)}function K(o){var r;(r=e.onMousedown)===null||r===void 0||r.call(e,o),!e.focusable&&o.preventDefault()}function X(){const{value:o}=g;o&&d(o.getNext({loop:!0}),!0)}function l(){const{value:o}=g;o&&d(o.getPrev({loop:!0}),!0)}function d(o,r=!1){g.value=o,r&&m()}function m(){var o,r;const b=g.value;if(!b)return;const L=v.value(b.key);L!==null&&(e.virtualScroll?(o=u.value)===null||o===void 0||o.scrollTo({index:L}):(r=h.value)===null||r===void 0||r.scrollTo({index:L,elSize:p.value}))}function k(o){var r,b;!((r=a.value)===null||r===void 0)&&r.contains(o.target)&&((b=e.onFocus)===null||b===void 0||b.call(e,o))}function T(o){var r,b;!((r=a.value)===null||r===void 0)&&r.contains(o.relatedTarget)||(b=e.onBlur)===null||b===void 0||b.call(e,o)}se(ce,{handleOptionMouseEnter:A,handleOptionClick:Z,valueSetRef:_,pendingTmNodeRef:g,nodePropsRef:F(e,"nodeProps"),showCheckmarkRef:F(e,"showCheckmark"),multipleRef:F(e,"multiple"),valueRef:F(e,"value"),renderLabelRef:F(e,"renderLabel"),renderOptionRef:F(e,"renderOption"),labelFieldRef:F(e,"labelField"),valueFieldRef:F(e,"valueField")}),se(at,a),ue(()=>{const{value:o}=h;o&&o.sync()});const z=M(()=>{const{size:o}=e,{common:{cubicBezierEaseInOut:r},self:{height:b,borderRadius:L,color:Ie,groupHeaderTextColor:Me,actionDividerColor:Fe,optionTextColorPressed:Ne,optionTextColor:Oe,optionTextColorDisabled:Pe,optionTextColorActive:Be,optionOpacityDisabled:Le,optionCheckColor:_e,actionTextColor:Ee,optionColorPending:He,optionColorActive:We,loadingColor:$e,loadingSize:Ve,optionColorActivePending:je,[G("optionFontSize",o)]:Ae,[G("optionHeight",o)]:Ke,[G("optionPadding",o)]:ne}}=s.value;return{"--n-height":b,"--n-action-divider-color":Fe,"--n-action-text-color":Ee,"--n-bezier":r,"--n-border-radius":L,"--n-color":Ie,"--n-option-font-size":Ae,"--n-group-header-text-color":Me,"--n-option-check-color":_e,"--n-option-color-pending":He,"--n-option-color-active":We,"--n-option-color-active-pending":je,"--n-option-height":Ke,"--n-option-opacity-disabled":Le,"--n-option-text-color":Oe,"--n-option-text-color-active":Be,"--n-option-text-color-disabled":Pe,"--n-option-text-color-pressed":Ne,"--n-option-padding":ne,"--n-option-padding-left":oe(ne,"left"),"--n-option-padding-right":oe(ne,"right"),"--n-loading-color":$e,"--n-loading-size":Ve}}),{inlineThemeDisabled:x}=e,w=x?nt("internal-select-menu",M(()=>e.size[0]),z,e):void 0,P={selfRef:a,next:X,prev:l,getPendingTmNode:U};return gt(a,e.onResize),Object.assign({mergedTheme:s,mergedClsPrefix:t,rtlEnabled:i,virtualListRef:u,scrollbarRef:h,itemSize:p,padding:B,flattenedNodes:c,empty:y,virtualListContainer(){const{value:o}=u;return o==null?void 0:o.listElRef},virtualListContent(){const{value:o}=u;return o==null?void 0:o.itemsElRef},doScroll:O,handleFocusin:k,handleFocusout:T,handleKeyUp:ee,handleKeyDown:te,handleMouseDown:K,handleVirtualListResize:Q,handleVirtualListScroll:E,cssVars:x?void 0:z,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender},P)},render(){const{$slots:e,virtualScroll:t,clsPrefix:n,mergedTheme:i,themeClass:s,onRender:a}=this;return a==null||a(),f("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,this.rtlEnabled&&`${n}-base-select-menu--rtl`,s,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},ge(e.header,u=>u&&f("div",{class:`${n}-base-select-menu__header`,"data-header":!0,key:"header"},u)),this.loading?f("div",{class:`${n}-base-select-menu__loading`},f(ot,{clsPrefix:n,strokeWidth:20})):this.empty?f("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},lt(e.empty,()=>[f(ct,{theme:i.peers.Empty,themeOverrides:i.peerOverrides.Empty,size:this.size})])):f(it,{ref:"scrollbarRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?f(mt,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:u})=>u.isGroup?f(Re,{key:u.key,clsPrefix:n,tmNode:u}):u.ignored?null:f(we,{clsPrefix:n,key:u.key,tmNode:u})}):f("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(u=>u.isGroup?f(Re,{key:u.key,clsPrefix:n,tmNode:u}):f(we,{clsPrefix:n,key:u.key,tmNode:u})))}),ge(e.action,u=>u&&[f("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},u),f(bt,{onFocus:this.onTabOut,key:"focus-detector"})]))}});function J(e){return e.type==="group"}function Ce(e){return e.type==="ignored"}function Ct(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch(n){return!1}}function It(e,t){return{getIsGroup:J,getIgnored:Ce,getKey(i){return J(i)?i.name||i.key||"key-required":i[e]},getChildren(i){return i[t]}}}function Mt(e,t,n,i){if(!t)return e;function s(a){if(!Array.isArray(a))return[];const u=[];for(const h of a)if(J(h)){const c=s(h[i]);c.length&&u.push(Object.assign({},h,{[i]:c}))}else{if(Ce(h))continue;t(n,h)&&u.push(h)}return u}return s(e)}function Ft(e,t,n){const i=new Map;return e.forEach(s=>{J(s)?s[n].forEach(a=>{i.set(a[t],a)}):i.set(s[t],s)}),i}export{zt as N,Ft as a,It as c,Mt as f,Ct as p,gt as u};
