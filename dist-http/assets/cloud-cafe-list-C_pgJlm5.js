var C=(D,u,d)=>new Promise((f,h)=>{var g=a=>{try{c(d.next(a))}catch(m){h(m)}},x=a=>{try{c(d.throw(a))}catch(m){h(m)}},c=a=>a.done?f(a.value):Promise.resolve(a.value).then(g,x);c((d=d.apply(D,u)).next())});import{u as F}from"./cloud-cafe-CLuYFLIS.js";import{d as G,h as R,u as q,p as E,i as I,j as M,c as p,e,b as t,w as r,f as l,F as w,q as k,D as T,o as _,t as i,s as $,B as H}from"./index-ChhltHVQ.js";import{c as N}from"./transferToUsd-CHpIPDKe.js";import{u as U}from"./useGetDlcPrice-Cj32P7WO.js";/* empty css                                                                      */import{r as V}from"./removeGeForceRTX-DO37ZxPc.js";import{u as W}from"./cloud-computers-VA6A9N4V.js";import{_ as z,a as P}from"./CollapseItem-CaN2HJMi.js";import{_ as X}from"./Empty-D7xXSAQi.js";import{_ as A}from"./Skeleton-dZHpmH9y.js";import"./contracts-C9jLvQn_.js";import"./Grid-2xvDnFFT.js";import"./use-locale-Dbc-qWHc.js";import"./get-HvKeKp0F.js";import"./Suffix-CiGOD4QE.js";import"./decryptKeystore-vcF9PyHc.js";import"./units-C_OuvvnV.js";import"./maths-Byej6qXm.js";import"./wallet-DM2W-3OY.js";import"./GradientText-CLZFWYbX.js";import"./use-houdini-Bm8e05Yt.js";import"./useAppSocket-D0Jxy0CL.js";import"./Select-BHXx3xnx.js";import"./utils-BdpDvbhP.js";import"./Follower-C8-nufE8.js";import"./create-D3Vn69pI.js";import"./Popover-Cjx2o8ka.js";import"./ChevronRight-xL-G13Gu.js";const J={class:"my-6"},K={class:"flex items-center gap-1"},O={class:"text-sm text-gray-500"},Q={class:"text-sm leading-6"},Y={class:"flex flex-col gap-6"},Z={key:0,class:"flex flex-col gap-5"},ee={class:"flex items-center gap-3 bg-[#D7EDEB] dark:bg-[#2c2c2c] rounded-[9px] px-[12px] py-[13px]"},te={class:"flex flex-col gap-4 mt-4"},se={class:"flex justify-between items-center"},oe={class:"flex justify-between items-center"},ne={class:"flex justify-between items-center"},ie={class:"flex justify-between items-center"},ae={class:"flex justify-between items-center"},ce={class:"flex justify-between items-center"},re={class:"flex items-center gap-4 mt-3"},le={class:"flex items-center gap-3 bg-[#D7EDEB] dark:bg-[#2c2c2c] rounded-[9px] px-[12px] py-[13px]"},de={class:"text-[16px] font-semibold"},pe={class:"flex flex-col gap-4 mt-4"},_e={class:"flex justify-between items-center"},ue={class:"font-bold text-base"},me={class:"font-bold text-sm text-primary-500"},he={class:"flex justify-between items-center"},fe={class:"font-bold text-base"},ge={class:"font-semibold text-sm text-[#717171]"},xe={class:"flex justify-between items-center"},ye={class:"font-bold text-base"},be={class:"font-semibold text-sm text-primary-500"},ve={class:"flex justify-between items-center"},we={class:"font-bold text-base"},$e={class:"flex items-center gap-4 mt-3"},De={key:2,class:"my-6"},tt=G({__name:"cloud-cafe-list",setup(D){const u=W(),d=R(),{t:f}=q(),{dlc_price:h}=U(),g=E(),x=I(),c=M(),a=F();a.getGpuListH({type:c.query.type,longitude:c.query.longitude,latitude:c.query.latitude,distance:c.query.distance});const m=s=>C(this,null,function*(){var y;d.isWalletRegistered?(console.log(s,"租用信息"),(yield u.getMachineStatusH(s.machine_id,s))&&(u.rentMachineDialogBeforeForm.rentinfo=s,u.rentMachineDialogBefore(s))):((y=window.$message)==null||y.warning(f("app.pleaseCreateWalletFirst")),x.push({name:"openWallet"}))});return(s,y)=>{const b=T("Icon"),S=P,j=z,o=A,v=H,B=X;return _(),p(w,null,[e("div",J,[t(j,null,{default:r(()=>[t(S,{name:"1"},{"header-extra":r(()=>[e("div",K,[e("span",O,i(s.$t("gpu.learnMoreGpuRental")),1),t(b,{icon:"mdi:alert-circle-outline",class:"text-[20px] text-gray-500"})])]),default:r(()=>[e("div",Q,i(s.$t("gpu.description2")),1)]),_:1})]),_:1})]),e("div",Y,[l(a).gpuListLoading?(_(),p("div",Z,[(_(),p(w,null,k(4,n=>e("div",{key:n,class:"flex-1 border-t border-gray-300 px-[10px] py-[21px]"},[e("div",ee,[t(o,{width:54,height:54,circle:""}),t(o,{width:220,height:20})]),e("div",te,[e("div",se,[t(o,{width:100,height:18}),t(o,{width:80,height:18})]),e("div",oe,[t(o,{width:80,height:18}),t(o,{width:180,height:18})]),e("div",ne,[t(o,{width:100,height:18}),t(o,{width:50,height:18})]),e("div",ie,[t(o,{width:100,height:18}),t(o,{width:120,height:18})]),e("div",ae,[t(o,{width:100,height:18}),t(o,{width:160,height:32})]),e("div",ce,[t(o,{width:100,height:18}),t(o,{width:40,height:18})]),e("div",re,[t(o,{class:"flex-1 h-[46px] rounded-lg"}),t(o,{class:"flex-1 h-[46px] rounded-lg"})])])])),64))])):l(a).gpuList.length>0?(_(!0),p(w,{key:1},k(l(a).gpuList,(n,L)=>(_(),p("div",{class:"flex-1 border-t border-gray-300 px-[10px] py-[21px]",key:L},[e("div",le,[t(b,{icon:"mdi:gas-station",class:"w-[54px] h-[54px] text-primary-500"}),e("span",de,i(`${l(V)(n.machineInfo.gpu_type)}
        
        
        (${n.device_id})`),1)]),e("div",pe,[e("div",_e,[e("span",ue,i(s.$t("gpu.machineStatus"))+":",1),e("span",me,i(s.$t(`gpu.${n.rsStatus()}`)),1)]),e("div",he,[e("span",fe,i(s.$t("gpu.memory"))+":",1),e("span",ge,i(n.machineInfo.total_mem)+"G",1)]),e("div",xe,[e("span",ye,i(s.$t("gpu.availableDuration"))+":",1),e("span",be,i(n.canUseTime),1)]),e("div",ve,[e("span",we,i(s.$t("gpu.rentalFee"))+":",1),t(v,{text:"",type:"primary",class:"rounded-lg font-semibold text-sm"},{default:r(()=>[$(i(`${n.rent_hour_dlcprice}DLC ≈ ${l(g).useLocalizedCurrency(l(N)(n.rent_hour_dlcprice,l(h)))}`),1)]),_:2},1024)]),e("div",$e,[t(v,{onClick:Ce=>m(n),loading:n.loading,disabled:n.rsStatus()!=="vacant",type:"primary",class:"flex-1 rounded-lg min-h-[46px]"},{default:r(()=>[$(i(n.rsStatus()==="notRentable"?s.$t(`gpu.${n.rsStatus()}`):s.$t("gpu.rent")),1)]),_:2},1032,["onClick","loading","disabled"])])])]))),128)):(_(),p("div",De,[t(B,{description:s.$t("gpu.noData")},{extra:r(()=>[t(v,{size:"small"},{default:r(()=>[$(i(s.$t("gpu.noGPUData")),1)]),_:1})]),_:1},8,["description"])]))])],64)}}});export{tt as default};
