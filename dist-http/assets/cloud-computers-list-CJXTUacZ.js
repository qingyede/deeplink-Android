var k=($,f,p)=>new Promise((a,h)=>{var x=c=>{try{r(p.next(c))}catch(g){h(g)}},y=c=>{try{r(p.throw(c))}catch(g){h(g)}},r=c=>c.done?a(c.value):Promise.resolve(c.value).then(x,y);r((p=p.apply($,f)).next())});/* empty css                                                                      */import{d as G,h as I,u as R,p as q,i as E,j as M,C as T,au as U,c as _,e,b as t,w as l,f as d,F as v,q as C,D as H,o as u,t as i,s as w,B as N}from"./index-ChhltHVQ.js";import{u as V}from"./cloud-computers-VA6A9N4V.js";import{u as W}from"./useGetDlcPrice-Cj32P7WO.js";import{c as z}from"./transferToUsd-CHpIPDKe.js";import{r as P}from"./removeGeForceRTX-DO37ZxPc.js";import{_ as A,a as X}from"./CollapseItem-CaN2HJMi.js";import{_ as J}from"./Empty-D7xXSAQi.js";import{_ as K}from"./Skeleton-dZHpmH9y.js";import"./contracts-C9jLvQn_.js";import"./Grid-2xvDnFFT.js";import"./use-locale-Dbc-qWHc.js";import"./get-HvKeKp0F.js";import"./Suffix-CiGOD4QE.js";import"./decryptKeystore-vcF9PyHc.js";import"./units-C_OuvvnV.js";import"./maths-Byej6qXm.js";import"./wallet-DM2W-3OY.js";import"./GradientText-CLZFWYbX.js";import"./use-houdini-Bm8e05Yt.js";import"./useAppSocket-D0Jxy0CL.js";import"./Select-BHXx3xnx.js";import"./utils-BdpDvbhP.js";import"./Follower-C8-nufE8.js";import"./create-D3Vn69pI.js";import"./Popover-Cjx2o8ka.js";import"./ChevronRight-xL-G13Gu.js";const O={class:"my-6"},Q={class:"flex items-center gap-1"},Y={class:"text-sm text-gray-500"},Z={class:"text-sm leading-6"},ee={class:"flex flex-col gap-6"},te={key:0,class:"flex flex-col gap-5"},se={class:"flex items-center gap-3 bg-[#D7EDEB] dark:bg-[#2c2c2c] rounded-[9px] px-[12px] py-[13px]"},oe={class:"flex flex-col gap-4 mt-4"},ne={class:"flex justify-between items-center"},ie={class:"flex justify-between items-center"},ae={class:"flex justify-between items-center"},ce={class:"flex justify-between items-center"},re={class:"flex justify-between items-center"},le={class:"flex justify-between items-center"},de={class:"flex items-center gap-4 mt-3"},pe={class:"flex items-center gap-3 bg-[#D7EDEB] dark:bg-[#2c2c2c] rounded-[9px] px-[12px] py-[13px]"},_e={class:"text-[16px] font-semibold"},ue={class:"flex flex-col gap-4 mt-4"},me={class:"flex justify-between items-center"},he={class:"font-bold text-base"},ge={class:"font-bold text-sm text-primary-500"},fe={class:"flex justify-between items-center"},xe={class:"font-bold text-base"},ye={class:"font-semibold text-sm text-[#717171]"},be={class:"flex justify-between items-center"},ve={class:"font-bold text-base"},we={class:"font-semibold text-sm text-primary-500"},$e={class:"flex justify-between items-center"},De={class:"font-bold text-base"},ke={class:"flex items-center gap-4 mt-3"},Ce={key:2,class:"my-6"},ot=G({__name:"cloud-computers-list",setup($){const f=I(),{t:p}=R(),a=V(),h=q(),{dlc_price:x}=W(),y=E(),r=M(),{pause:c,resume:g,isActive:je}=T(()=>{a.getGpuListH({type:r.query.type,longitude:r.query.longitude,latitude:r.query.latitude,distance:r.query.distance})},1e6,{immediateCallback:!0});U(()=>{c()});const j=(s,S)=>k(this,null,function*(){var m;f.isWalletRegistered?(console.log(s,"租用信息"),s.loading=!0,(yield a.getMachineStatusH(s.machine_id,s))&&(a.rentMachineDialogBeforeForm.rentinfo=s,a.rentMachineDialogBefore(s))):((m=window.$message)==null||m.warning(p("app.pleaseCreateWalletFirst")),y.push({name:"openWallet"}))});return(s,S)=>{const m=H("Icon"),D=X,B=A,o=K,b=N,L=J;return u(),_(v,null,[e("div",O,[t(B,null,{default:l(()=>[t(D,{name:"1"},{"header-extra":l(()=>[e("div",Q,[e("span",Y,i(s.$t("gpu.learnMoreGpuRental")),1),t(m,{icon:"mdi:alert-circle-outline",class:"text-[20px] text-gray-500"})])]),default:l(()=>[e("div",Z,i(s.$t("gpu.game_tip")),1)]),_:1})]),_:1})]),e("div",ee,[d(a).gpuListLoading?(u(),_("div",te,[(u(),_(v,null,C(4,n=>e("div",{key:n,class:"flex-1 border-t border-gray-300 px-[10px] py-[21px]"},[e("div",se,[t(o,{width:54,height:54,circle:""}),t(o,{width:220,height:20})]),e("div",oe,[e("div",ne,[t(o,{width:100,height:18}),t(o,{width:80,height:18})]),e("div",ie,[t(o,{width:80,height:18}),t(o,{width:180,height:18})]),e("div",ae,[t(o,{width:100,height:18}),t(o,{width:50,height:18})]),e("div",ce,[t(o,{width:100,height:18}),t(o,{width:120,height:18})]),e("div",re,[t(o,{width:100,height:18}),t(o,{width:160,height:32})]),e("div",le,[t(o,{width:100,height:18}),t(o,{width:40,height:18})]),e("div",de,[t(o,{class:"flex-1 h-[46px] rounded-lg"}),t(o,{class:"flex-1 h-[46px] rounded-lg"})])])])),64))])):d(a).gpuList.length>0?(u(!0),_(v,{key:1},C(d(a).gpuList,(n,F)=>(u(),_("div",{class:"flex-1 border-t border-gray-300 px-[10px] py-[21px]",key:F},[e("div",pe,[t(m,{icon:"mdi:gas-station",class:"w-[54px] h-[54px] text-primary-500"}),e("span",_e,i(`${d(P)(n.machineInfo.gpu_type)} (${n.device_id})`),1)]),e("div",ue,[e("div",me,[e("span",he,i(s.$t("gpu.machineStatus"))+":",1),e("span",ge,i(s.$t(`gpu.${n.rsStatus()}`)),1)]),e("div",fe,[e("span",xe,i(s.$t("gpu.memory"))+":",1),e("span",ye,i(n.machineInfo.total_mem)+"G",1)]),e("div",be,[e("span",ve,i(s.$t("gpu.availableDuration"))+":",1),e("span",we,i(n.canUseTime),1)]),e("div",$e,[e("span",De,i(s.$t("gpu.rentalFee"))+":",1),t(b,{text:"",type:"primary",class:"rounded-lg font-semibold text-sm"},{default:l(()=>[w(i(`${n.rent_hour_dlcprice}DLC ≈ ${d(h).useLocalizedCurrency(d(z)(n.rent_hour_dlcprice,d(x)))}`),1)]),_:2},1024)]),e("div",ke,[t(b,{onClick:Se=>j(n),loading:n.loading,disabled:n.rsStatus()!=="vacant",type:"primary",class:"flex-1 rounded-lg min-h-[46px]"},{default:l(()=>[w(i(n.rsStatus()==="notRentable"?s.$t(`gpu.${n.rsStatus()}`):s.$t("gpu.rent")),1)]),_:2},1032,["onClick","loading","disabled"])])])]))),128)):(u(),_("div",Ce,[t(L,{description:s.$t("gpu.noData")},{extra:l(()=>[t(b,{size:"small"},{default:l(()=>[w(i(s.$t("gpu.noGPUData")),1)]),_:1})]),_:1},8,["description"])]))])],64)}}});export{ot as default};
