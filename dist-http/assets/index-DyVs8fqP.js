import{d as $,j,k as l,g as N,n as S,c as B,b as d,w as b,D as I,as as L,o as q,e,t as s,f as u,aq as O}from"./index-ChhltHVQ.js";import{u as T}from"./useExternalLinkOptions-C6_daVTn.js";import{a as z,D as F}from"./dlc-Doa3S9C-.js";import{N as J}from"./mynft-BS1DVvKp.js";import{a as V}from"./units-C_OuvvnV.js";import"./maths-Byej6qXm.js";const A={class:"px-4 w-full mx-auto flex flex-col items-center justify-center gap-8"},M={class:"flex items-center justify-center flex-col gap-5"},R=["src"],U={class:"text-lg font-bold flex items-center gap-3 text-[#262626] dark:text-white"},G={class:"flex flex-col gap-5 w-full"},H={class:"w-full flex items-center justify-between"},K={class:"text-[#262626] font-bold text-base dark:text-white"},P={class:"w-full flex items-center justify-between"},Q={class:"text-[#262626] font-bold text-base dark:text-white"},W={class:"transition-all duration-300"},X={class:"w-full flex items-center justify-between"},Y=e("span",{class:"text-[#262626] font-bold text-base dark:text-white"},"To",-1),Z={class:"font-medium text-[15px] break-all max-w-[190px] dark:text-white/80"},tt={class:"flex items-center justify-center flex-col gap-1"},et={class:"text-base font-bold text-[#262626] w-full text-left dark:text-white"},st=e("div",{class:"w-full border-t border-dashed border-black dark:border-white/30"},null,-1),at={class:"mt-4 w-full flex flex-col gap-3"},ot={class:"w-full flex items-center justify-between"},nt={class:"text-[13.5px] text-[#7E7E7E] dark:text-gray-400"},lt={class:"text-[13.5px] text-[#7E7E7E] whitespace-nowrap dark:text-gray-300"},rt={class:"w-full flex items-center justify-between"},ct={class:"text-[13.5px] text-[#7E7E7E] dark:text-gray-400"},it={class:"text-[13.5px] text-[#7E7E7E] whitespace-nowrap dark:text-gray-300"},ht=$({__name:"index",setup(dt){const{openExternalLink:v}=T(),x=j(),o=l(()=>{try{return JSON.parse(x.query.data)}catch(t){return console.error("交易数据解析失败:",t),null}}),k=l(()=>{const t=x.query.coin;return t==="DBC"?z:t==="DLC"?F:J}),p=l(()=>{var t;return((t=o.value)==null?void 0:t.direction)==="out"}),y=l(()=>{var a,n;const t=o.value;return(t==null?void 0:t.direction)==="in"?(a=t==null?void 0:t.from)==null?void 0:a.hash:(n=t==null?void 0:t.to)==null?void 0:n.hash}),g=l(()=>{var r,c,i,f,_,h,w;const t=(c=(r=o.value)==null?void 0:r.total)==null?void 0:c.value,a=Number((_=(f=(i=o.value)==null?void 0:i.total)==null?void 0:f.decimals)!=null?_:18),n=((w=(h=o.value)==null?void 0:h.token)==null?void 0:w.symbol)||"";return t?`${Number(V(t,a)).toFixed(5)} ${n}`:`0.0 ${n}`}),C=l(()=>{var a;const t=(a=o.value)==null?void 0:a.timestamp;return t?new Date(t).toLocaleDateString():"--"}),{copy:E,copied:m}=N({source:l(()=>{var t;return((t=o.value)==null?void 0:t.tx_hash)||""}),copiedDuring:1500});S(()=>{console.log(JSON.parse(x.query.data))});const D=()=>{var t;v(`https://dbcscan.io/zh/tx/${(t=o.value)==null?void 0:t.tx_hash}`)};return(t,a)=>{const n=I("Icon"),r=L;return q(),B("div",A,[d(r,{class:"rounded-[24px] shadow-sm dark:bg-[#1e1e1e]"},{default:b(()=>{var c,i;return[e("div",M,[e("img",{class:"max-w-[60px] max-h-[60px]",src:k.value,alt:"coin"},null,8,R),e("h1",U,[e("span",null,s(p.value?t.$t("transaction.send"):t.$t("transaction.receive"))+" "+s((i=(c=o.value)==null?void 0:c.token)==null?void 0:i.symbol),1),d(n,{class:"text-primary-500",icon:p.value?"mdi:send-circle":"mdi:call-received"},null,8,["icon"])]),e("ul",G,[e("li",H,[e("span",K,s(t.$t("transaction.status")),1),e("span",{class:"text-[#043CC9] font-medium text-[15px] underline underline-offset-4 dark:text-blue-400",onClick:D},s(t.$t("transaction.viewOnExplorer")),1)]),e("li",P,[e("span",Q,s(t.$t("transaction.txId")),1),e("span",{onClick:a[0]||(a[0]=f=>u(E)()),class:"text-[#043CC9] font-medium text-[15px] flex items-center gap-2 cursor-pointer transition duration-200 active:scale-95 dark:text-blue-400"},[e("span",W,s(u(m)?"Copied!":"Copy transaction ID"),1),d(n,{icon:u(m)?"mdi:check-circle-outline":"mdi:content-copy",class:O(["transition-transform duration-300",u(m)?"text-green-500 scale-110":""])},null,8,["icon","class"])])]),e("li",X,[Y,e("span",Z,s(y.value),1)])])])]}),_:1}),d(r,{class:"rounded-[24px] shadow-sm bg-gray-70 dark:bg-[#1e1e1e]"},{default:b(()=>[e("div",tt,[e("h1",et,s(t.$t("transaction.transaction")),1),st,e("div",at,[e("div",ot,[e("span",nt,s(t.$t("transaction.date")),1),e("span",lt,s(C.value),1)]),e("div",rt,[e("span",ct,s(t.$t("transaction.amount")),1),e("span",it,s(p.value?"-":"+")+s(g.value),1)])])])]),_:1})])}}});export{ht as default};
